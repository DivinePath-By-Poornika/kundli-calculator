<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kundli Generator</title>
<style>
  body {font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; padding: 20px; color: #333;}
  h1 {text-align: center;}
  .container {max-width: 900px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
  .form-group {margin: 10px 0;}
  label {display: inline-block; width: 150px; font-weight: bold;}
  input {padding: 5px; width: calc(100% - 160px);}
  button {padding: 10px 15px; background: #007bff; color: #fff; border: none; border-radius: 5px; cursor: pointer; margin: 10px 5px;}
  button:hover {background: #0056b3;}
  .chart {display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); width: 300px; height: 300px; margin: 20px auto; border: 2px solid #000; position: relative;}
  .chart div {display: flex; align-items: center; justify-content: center; font-size: 14px; border: 1px solid #ccc;}
  table {width: 100%; border-collapse: collapse; margin-top: 20px;}
  th, td {border: 1px solid #ccc; padding: 8px; text-align: center;}
</style>
</head>
<body>
<div class="container">
<h1>Kundli Generator</h1>
<div class="form-group">
  <label>Date of Birth:</label><input type="date" id="dob">
</div>
<div class="form-group">
  <label>Time of Birth:</label><input type="time" id="tob">
</div>
<div class="form-group">
  <label>Time Zone (e.g. 5.5):</label><input type="number" id="tz" value="5.5">
</div>
<div class="form-group">
  <label>Latitude:</label><input type="number" id="lat" step="0.0001">
</div>
<div class="form-group">
  <label>Longitude:</label><input type="number" id="lon" step="0.0001">
</div>
<div>
  <button onclick="autoLocation()">Use My Location</button>
  <button onclick="generateKundli()">Generate Kundli</button>
</div>
<div class="chart" id="chart"></div>
<table>
  <thead>
    <tr>
      <th>Planet</th>
      <th>Sign</th>
      <th>Degree</th>
      <th>House</th>
    </tr>
  </thead>
  <tbody id="planetTable"></tbody>
</table>
</div>
<script>
const signs = ["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];
const planets = ["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"];

function autoLocation(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(pos => {
      document.getElementById('lat').value = pos.coords.latitude.toFixed(4);
      document.getElementById('lon').value = pos.coords.longitude.toFixed(4);
    });
  } else {
    alert("Geolocation is not supported by your browser.");
  }
}

function generateKundli(){
  const dob = document.getElementById('dob').value;
  const tob = document.getElementById('tob').value;
  const tz = parseFloat(document.getElementById('tz').value);
  const lat = parseFloat(document.getElementById('lat').value);
  const lon = parseFloat(document.getElementById('lon').value);

  if(!dob || !tob || isNaN(lat) || isNaN(lon)){
    alert("Please fill all details correctly.");
    return;
  }

  const chartDiv = document.getElementById('chart');
  chartDiv.innerHTML = "";
  for(let i=1;i<=9;i++){
    const d = document.createElement('div');
    d.innerText = i === 5 ? "Asc" : "";
    chartDiv.appendChild(d);
  }

  const tbody = document.getElementById('planetTable');
  tbody.innerHTML = "";
  planets.forEach(p => {
    const deg = (Math.random()*360).toFixed(2);
    const signIndex = Math.floor(deg/30);
    const house = ((signIndex+1)%12)+1;
    const tr = `<tr><td>${p}</td><td>${signs[signIndex]}</td><td>${deg}Â°</td><td>${house}</td></tr>`;
    tbody.innerHTML += tr;
  });
}
</script>
</body>
</html>
