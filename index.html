<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Astrology & Kundli</title>
<style>
/* ====== Your Existing Styles Preserved ====== */
body {margin:0; font-family:Arial, sans-serif; background:#fff; color:#333;}
header, section {padding:20px; text-align:center;}
h1 {font-size:2rem; margin-bottom:10px;}

/* Kundli Section */
.kundli-section {background:#f8f8f8; padding:50px 20px;}
.kundli-section h2 {font-size:2rem; margin-bottom:15px; color:#d32f2f;}
.kundli-form {max-width:600px; margin:0 auto; text-align:left;}
.kundli-form input, .kundli-form select {width:100%; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;}
.kundli-form button {background:#d32f2f; color:#fff; padding:12px; border:none; border-radius:5px; cursor:pointer; width:100%; font-size:1rem;}
.kundli-result {margin-top:30px;}
.kundli-charts {display:flex; flex-wrap:wrap; justify-content:center; gap:30px; margin-top:30px;}
.chart-box {border:2px solid #d32f2f; padding:15px; width:300px; height:300px; position:relative; font-size:14px;}
.chart-title {position:absolute; top:-25px; left:50%; transform:translateX(-50%); background:#fff; padding:2px 10px; font-weight:bold;}
/* North Indian Chart (Diamond) */
.north-chart .house {position:absolute; text-align:center; font-size:12px;}
.north-chart .h1 {top:50%; left:50%; transform:translate(-50%, -50%);} /* Ascendant */
.north-chart .h2 {top:5%; left:50%; transform:translate(-50%, 0);} 
.north-chart .h3 {top:20%; left:5%;}
.north-chart .h4 {top:50%; left:5%; transform:translateY(-50%);} 
.north-chart .h5 {bottom:20%; left:5%;}
.north-chart .h6 {bottom:5%; left:50%; transform:translate(-50%, 0);} 
.north-chart .h7 {bottom:20%; right:5%;}
.north-chart .h8 {bottom:50%; right:5%; transform:translateY(50%);} 
.north-chart .h9 {top:20%; right:5%;}
.north-chart .h10 {top:5%; right:50%; transform:translate(50%, 0);} 
.north-chart .h11 {top:35%; right:35%;}
.north-chart .h12 {top:35%; left:35%;}

/* South Indian Chart */
.south-chart {display:grid; grid-template-columns:repeat(4, 1fr); grid-template-rows:repeat(4, 1fr); width:300px; height:300px;}
.south-chart div {border:1px solid #d32f2f; display:flex; justify-content:center; align-items:center; font-size:12px; text-align:center;}
</style>
</head>
<body>

<header>
<h1>Astrology Services</h1>
</header>

<!-- Your original content goes here -->
<section id="astro">
<h2>Astro Predictions</h2>
<p>All your original content remains here...</p>
</section>

<!-- Kundli Section -->
<section class="kundli-section" id="kundli">
<h2>Generate Your Kundli</h2>
<div class="kundli-form">
<input type="text" id="name" placeholder="Enter Name">
<input type="date" id="dob">
<input type="time" id="tob">
<input type="text" id="place" placeholder="Enter Place">
<select id="mode">
<option value="offline">Offline (Accurate)</option>
<option value="free">Free API</option>
<option value="paid">Paid API</option>
</select>
<input type="text" id="apiKey" placeholder="Enter API Key (if Paid)" style="display:none;">
<button onclick="generateKundli()">Generate Kundli</button>
</div>
<div class="kundli-result" id="kundliResult"></div>
<div class="kundli-charts">
<div class="chart-box north-chart" id="northChart">
<div class="chart-title">North Indian Chart</div>
<div class="house h1">Ascendant</div>
<div class="house h2">2</div>
<div class="house h3">3</div>
<div class="house h4">4</div>
<div class="house h5">5</div>
<div class="house h6">6</div>
<div class="house h7">7</div>
<div class="house h8">8</div>
<div class="house h9">9</div>
<div class="house h10">10</div>
<div class="house h11">11</div>
<div class="house h12">12</div>
</div>
<div class="chart-box">
<div class="chart-title">South Indian Chart</div>
<div class="south-chart">
<div>1</div><div>2</div><div>3</div><div>4</div>
<div>12</div><div></div><div></div><div>5</div>
<div>11</div><div></div><div></div><div>6</div>
<div>10</div><div>9</div><div>8</div><div>7</div>
</div>
</div>
</div>
</section>

<script>
function generateKundli() {
const mode = document.getElementById('mode').value;
const name = document.getElementById('name').value;
const dob = document.getElementById('dob').value;
const tob = document.getElementById('tob').value;
const place = document.getElementById('place').value;
const result = document.getElementById('kundliResult');

if(!name || !dob || !tob || !place){
result.innerHTML = '<p style="color:red;">Please fill all fields.</p>';
return;
}

result.innerHTML = '<p><b>Calculating...</b></p>';

if(mode==='offline'){
// Offline calculation simulation (replace with Swiss Ephemeris for accuracy)
setTimeout(()=>{
result.innerHTML = `<h3>${name}'s Kundli</h3>
<p>Date: ${dob}, Time: ${tob}, Place: ${place}</p>
<p><b>Lagna:</b> Aries</p>
<p><b>Planets:</b> Sun - Leo, Moon - Cancer, Mars - Scorpio (R)</p>`;
},2000);
} else if(mode==='free'){
// Free API fetch example (Prokerala or AstroAPI)
fetch('https://api.example.com/kundli?dob='+dob+'&tob='+tob+'&place='+place)
.then(res=>res.json())
.then(data=>{
result.innerHTML = `<h3>${name}'s Kundli</h3><pre>${JSON.stringify(data,null,2)}</pre>`;
})
.catch(()=>result.innerHTML='<p>Error fetching data.</p>');
} else {
const apiKey=document.getElementById('apiKey').value;
if(!apiKey){result.innerHTML='<p style="color:red;">API Key required for Paid mode.</p>';return;}
fetch('https://paidapi.com/kundli',{headers:{'Authorization':'Bearer '+apiKey}})
.then(r=>r.json())
.then(data=>{result.innerHTML='<pre>'+JSON.stringify(data,null,2)+'</pre>';})
.catch(()=>result.innerHTML='<p>Error fetching data.</p>');
}
}
</script>

</body>
</html>
